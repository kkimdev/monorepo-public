<!DOCTYPE html>
<html>
<head>
    <title>Reproduction - Backspace Bug</title>
    <style>
        .kb-nav-hint { position: absolute; padding: 3px 6px; background: rgba(255, 241, 118, 0.9); color: #000; font-family: sans-serif; font-size: 14px; font-weight: 700; z-index: 2147483647; pointer-events: none; border-radius: 4px; border: 1px solid rgba(0,0,0,0.2); transition: opacity 0.15s ease-out, transform 0.15s cubic-bezier(0.2, 0, 0, 1); }
        .kb-nav-target-highlight { position: absolute; border: 2px solid #ffd700; pointer-events: none; z-index: 2147483646; transition: opacity 0.15s ease-out; }
        .kb-nav-hint-match { color: #d32f2f; opacity: 0.3; }
        .kb-nav-hint-filtered { opacity: 0 !important; scale: 0.6 !important; }
        .kb-nav-hint-active { scale: 1.1 !important; transform: scale(1.1); }
        #kb-nav-container.kb-nav-closing .kb-nav-hint,
        #kb-nav-container.kb-nav-closing .kb-nav-target-highlight { opacity: 0 !important; }
    </style>
</head>
<body>
    <h1>Reproduction - Backspace Bug</h1>
    <p>We need > 26 buttons to force 2-character hints.</p>
    <div id="container"></div>

    <script>
        const container = document.getElementById('container');
        for (let i = 0; i < 30; i++) {
            const btn = document.createElement('button');
            btn.textContent = `Button ${i + 1}`;
            container.appendChild(btn);
            if ((i + 1) % 5 === 0) container.appendChild(document.createElement('br'));
        }
    </script>

    <!-- Inject content.js logic -->
    <script src="content.js"></script>
    <script>
        // Override chrome.runtime.getURL to avoid errors if not running as extension
        if (typeof chrome === 'undefined') {
            window.chrome = {
                runtime: { getURL: () => '' },
                storage: { local: { get: (keys, cb) => cb({}) }, onChanged: { addListener: () => {} } }
            };
        }
    </script>
</body>
</html>
